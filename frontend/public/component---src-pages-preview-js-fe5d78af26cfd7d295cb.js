(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[570],{2129:function(e,t,a){"use strict";a.r(t);var l=a(7757),n=a.n(l),r=(a(5666),a(2137)),s=a(7294),c=a(28),i=a(434),u=a(7283),o=a(3751),E=a(1773),d=a(4946);t.default=function(e){var t=e.locale,a=e.slug,l=e.data,g=(0,s.useState)(null),m=g[0],p=g[1],f=(0,s.useState)(null),v=f[0],w=f[1],S=(0,s.useState)(null),_=S[0],h=S[1],P=(0,d.Z)(),b=P[0],T=P[1],C=(0,E.useLocation)(),R=new URLSearchParams(C.search).get("secret"),x=l.site.siteMetadata.languages,Z=x.locales,k=x.defaultLocale,I=m&&Object.assign({},m.metadata,{metaTitle:"Preview "+m.metadata.metaTitle});return b.strapiPreview!=={}.GATSBY_PREVIEW_SECRET&&R==={}.GATSBY_PREVIEW_SECRET&&T("strapiPreview",{}.GATSBY_PREVIEW_SECRET,{path:"/",secure:"production",sameSite:"Strict"}),(0,s.useEffect)((function(){(function(){var e=(0,r.Z)(n().mark((function e(){var l,r,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.I)("/pages?_locale="+t+"&slug="+a);case 2:return l=e.sent,r=l[0],p(r),s={slug:r.slug,id:r.id,locale:r.locale,localizations:r.localizations,locales:Z,defaultLocale:k,isPreview:!0},h(s),e.next=9,(0,c.I)("/global?_locale="+t);case 9:i=e.sent,w(i);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[a,Z,k,t]),_&&v?b.strapiPreview?s.createElement(s.Fragment,null,s.createElement(o.Z,{seo:I}),s.createElement(u.Z,{pageContext:_,global:v},m&&s.createElement("div",null,s.createElement(i.Z,{sections:m.contentSections})))):s.createElement(u.Z,{pageContext:_,global:v},s.createElement("div",{className:"mt-4 text-center"},"You need to turn preview mode on to view this page")):s.createElement("div",null,"loading preview...")}}}]);
//# sourceMappingURL=component---src-pages-preview-js-fe5d78af26cfd7d295cb.js.map